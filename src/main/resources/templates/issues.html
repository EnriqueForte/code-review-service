<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Issues del Proyecto</title>
    <!-- Bootstrap CSS -->
    <link 
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
    <!-- Google Fonts (Montserrat) -->
    <link 
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" 
      rel="stylesheet"/>
    <!-- Font Awesome para iconos -->
    <link 
      rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" 
      integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMafn5HiPa0u4VnWU2kroiIQnQKi1HXDf5nro9T"
      crossorigin="anonymous"/>

    <!-- Estilos personalizados -->
    <style>
      body {
        font-family: 'Montserrat', sans-serif;
        background-color: #f2f2f7; /* Fondo suave */
      }
      /* Navbar personalizada - igual que index */
      .navbar-custom {
        background-color: #6A1B9A; /* Morado intenso */
      }
      .navbar-custom .navbar-brand {
        font-weight: 700;
        color: #fff !important;
      }
      .navbar-custom .nav-link {
        color: #fff !important;
      }

      /* Encabezados */
      h2 {
        color: #4B296B;
      }

      /* Tabla */
      .table thead th {
        background-color: #EBD3F3;
        color: #4B296B;
      }
      .table.table-bordered th,
      .table.table-bordered td {
        border-color: #d5c2e1;
      }
      .table-striped tbody tr:nth-of-type(2n+1) {
        background-color: #faf6fc;
      }
      .table-striped tbody tr:hover {
        background-color: #f0eaf8;
      }

      /* Margin helpers */
      .mt-4 {
        margin-top: 1.5rem !important;
      }
      .my-3 {
        margin: 1rem 0 !important;
      }
      .text-center {
        text-align: center !important;
      }
      .mt-5 {
        margin-top: 3rem !important;
      }

      /* Botones */
      .btn i {
        margin-right: 4px;
      }
      .btn {
        border-radius: 20px; /* mismas esquinas redondeadas */
      }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-custom">
  <a class="navbar-brand" href="#">
    <i class="fas fa-code-branch"></i> Code Review Service
  </a>
</nav>

<div class="container mt-4">
    <h2><i class="fas fa-bug"></i> Issues del Proyecto 
        <span th:text="${project.name}"></span>
    </h2>

    <!-- Botón volver -->
    <a th:href="@{/index}" class="btn btn-secondary my-3">
      <i class="fas fa-arrow-left"></i> Volver
    </a>

    <!-- Mensaje si no hay issues -->
    <div th:if="${#lists.isEmpty(issues)}" class="alert alert-info">
        <i class="fas fa-info-circle"></i> 
        No hay issues reportados para este proyecto.
    </div>

    <!-- Tabla de issues si hay datos -->
    <table class="table table-striped table-bordered" th:if="${not #lists.isEmpty(issues)}">
        <thead>
        <tr>
            <th>Archivo</th>
            <th>Línea</th>
            <th>Mensaje</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="issue : ${issues}">
            <td th:text="${issue.filePath}"></td>
            <td th:text="${issue.lineNumber}"></td>
            <td th:text="${issue.message}"></td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Footer -->
<footer class="text-center mt-5">
  <p>© 2025 Enriqueforte - 
    <a href="https://www.linkedin.com/in/enriqueforte" target="_blank">LinkedIn</a>
  </p>
</footer>

<!-- Scripts Bootstrap -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script 
  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js">
</script>
</body>
</html>
